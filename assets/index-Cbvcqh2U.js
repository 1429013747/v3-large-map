const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./js/_...all_-CQtKA--2.js","./js/vue-vendor-EbEZzsnQ.js","./js/antd-vendor-LVVwv4Lu.js","./css/_..-BMH6_32P.css","./js/index-Cj8pFlk3.js","./js/index-B6fZLP27.js","./css/index-iLkSPN6P.css","./css/index-CvfAQxaa.css","./js/index-DkUuNTv0.js","./css/index-CPv222P_.css","./js/index-DE4QIyoW.js"])))=>i.map(i=>d[i]);
function e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}import{_ as t,P as n,r as o,d as a,C as l,A as r}from"./js/antd-vendor-LVVwv4Lu.js";import{S as s,d as i,U as d,V as c,W as u,X as p,Y as f,Z as m,_ as g,q as v,A as h,k as y,$ as b,a0 as x,E as _,m as $,f as N,a1 as k,r as S,a2 as E,D,o as w,b as M,c as O,w as z,l as C,n as A,v as L,j as T,a3 as Y,F,a4 as j,a5 as R,u as P,a6 as I,a7 as B,a8 as V,R as H,a9 as q}from"./js/vue-vendor-EbEZzsnQ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const X=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,W=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,U=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function K(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t}function J(e,t){if(null==e)return;let n=e;for(let o=0;o<t.length;o++){if(null==n||null==n[t[o]])return;n=n[t[o]]}return n}function Q(e,t,n){if(0===n.length)return t;const o=n[0];return n.length>1&&(t=Q("object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,o)?e[o]:Number.isInteger(Number(n[1]))?[]:{},t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(o))&&Array.isArray(e)?e.slice()[o]:Object.assign({},e,{[o]:t})}function G(e,t){if(null==e||0===t.length)return e;if(1===t.length){if(null==e)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const t in e)n[t]=e[t];return delete n[t[0]],n}if(null==e[t[0]]){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const t in e)n[t]=e[t];return n}return Q(e,G(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function Z(e,t){return t.map(e=>e.split(".")).map(t=>[t,J(e,t)]).filter(e=>void 0!==e[1]).reduce((e,t)=>Q(e,t[1],t[0]),{})}function ee(e,t){return t.map(e=>e.split(".")).reduce((e,t)=>G(e,t),e)}function te(e,{storage:t,serializer:n,key:o,debug:a,pick:l,omit:r,beforeHydrate:s,afterHydrate:i},d,c=!0){try{c&&(null==s||s(d));const a=t.getItem(o);if(a){const t=n.deserialize(a),o=l?Z(t,l):t,s=r?ee(o,r):o;e.$patch(s)}c&&(null==i||i(d))}catch(u){}}function ne(e,{storage:t,serializer:n,key:o,debug:a,pick:l,omit:r}){try{const a=l?Z(e,l):e,s=r?ee(a,r):a,i=n.serialize(s);t.setItem(o,i)}catch(s){}}var oe=function(e={}){return function(t){var n;!function(e,t,n){const{pinia:o,store:a,options:{persist:l=n}}=e;if(!l)return;if(!(a.$id in o.state.value)){const e=o._s.get(a.$id.replace("__hot:",""));return void(e&&Promise.resolve().then(()=>e.$persist()))}const r=(Array.isArray(l)?l:!0===l?[{}]:[l]).map(t);a.$hydrate=({runHooks:t=!0}={})=>{r.forEach(n=>{te(a,n,e,t)})},a.$persist=()=>{r.forEach(e=>{ne(a.$state,e)})},r.forEach(t=>{te(a,t,e),a.$subscribe((e,n)=>ne(n,t),{detached:!0})})}(t,n=>{var o,a,l,r,s,i,d;return{key:(e.key?e.key:e=>e)(null!=(o=n.key)?o:t.store.$id),debug:null!=(l=null!=(a=n.debug)?a:e.debug)&&l,serializer:null!=(s=null!=(r=n.serializer)?r:e.serializer)?s:{serialize:e=>JSON.stringify(e),deserialize:e=>function(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!U.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(X.test(e)||W.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,K)}return JSON.parse(e)}catch(o){if(t.strict)throw o;return e}}(e)},storage:null!=(d=null!=(i=n.storage)?i:e.storage)?d:window.localStorage,beforeHydrate:n.beforeHydrate,afterHydrate:n.afterHydrate,pick:n.pick,omit:n.omit}},null!=(n=e.auto)&&n)}}();const ae=function(e){return"[object Object]"===Object.prototype.toString.call(e)},le=function(e){return"string"==typeof e},re=function(e){return"number"==typeof e},se={print:(e,t,n)=>le(t)||"boolean"==typeof n,pretty:(e,t,n)=>le(t)&&le(e)||"string"==typeof n,primary:(e,t)=>le(e)||"boolean"==typeof t,success:(e,t)=>le(e)||"boolean"==typeof t,info:(e,t)=>le(e)||"boolean"==typeof t,warning:(e,t)=>le(e)||"boolean"==typeof t,danger:(e,t)=>le(e)||"boolean"==typeof t};se.print=function(e,t="default",n=!1){return!0},se.pretty=function(e,t,n="primary"){return!0},se.primary=function(e,t=!1){return this.print&&this.print(e,"primary",t),!0},se.success=function(e,t=!1){return this.print&&this.print(e,"success",t),!0},se.info=function(e,t=!1){return this.print&&this.print(e,"info",t),!0},se.warning=function(e,t=!1){return this.print&&this.print(e,"warning",t),!0},se.danger=function(e,t=!1){return this.print&&this.print(e,"danger",t),!0};var ie={async install(e){e.config.globalProperties.$log=se,se.pretty("[vue3-tree-org] 4.2.2","success")}};const de=function(){let e=!1;return{get:()=>e,set:t=>{e=t}}}(),ce=function(e,t,n){const{id:o,children:a}=t;if(e[o]===n)return e;if(Array.isArray(e[a])){const o=e[a];for(let e=0,a=o.length;e<a;e++){const a=o[e],l=ce(a,t,n);if(l)return l}}},ue=function(e,t){const{parenNode:n,onlyOneNode:o,cloneNodeDrag:a}=t;if(n.value){const{keys:l}=t,{id:r,pid:s,children:i}=l,d=n.value.$$data,c=JSON.parse(JSON.stringify(e.$$data));a?(function(e,t){const{children:n}=t;if(ae(e))o(e);else if(Array.isArray(e))for(let a=0,l=e.length;a<l;a++)o(e[a]);function o(e){if(function(e){"string"==typeof e[r]&&-1!==e[r].indexOf("clone-node")&&(e[r]="clone-node-".concat(e[r]))}(e),Array.isArray(e[n])){const t=e[n];for(let e=0,n=t.length;e<n;e++)o(t[e])}}}(c,l),o&&Array.isArray(c[i])&&(c[i]=[]),c[l.pid]=d[l.id],d[i]?d[i].push(c):d[i]=[c]):(function(e,t){const{keys:n,data:o,onlyOneNode:a}=t,{id:l,pid:r,children:s}=n,i=ce(o,n,e[r]),d=i[s];let c;for(let p=0,f=d.length;p<f;p++)if(d[p][l]===e[l]){d.splice(p,1),c=p;break}const u=e[s];a&&void 0!==c&&u&&(e[s]=[],u.forEach(e=>{e[r]=i[l]}),i[s].splice(c,0,...u))}(c,t),c[s]=d[r],d[i]?d[i].push(c):d[i]=[].concat(c))}},pe={beforeMount(e,t){const{l:n,t:o}=t.modifiers,{drag:a,dragData:l,node:r,emit:s,beforeDragEnd:i,initNodes:d}=t.value,{value:c}=t,u={...l};e.addEventListener("mousedown",function(e){const t=e.target;if(!1===a||0!==e.button||r.focused||r.$$data.noDragging||t.className.indexOf("tree-org-node-btn")>-1)return!1;(function(e){e.stopPropagation(),g=e.screenX,v=e.screenY,f=0,u.contextmenu.value=!1;const{keys:t,onlyOneNode:n}=u;if(n){const{children:e}=t,n={...r.$$data};n[e]=[],u.cloneData.value=d(n)}else u.cloneData.value=d(r.$$data)})(e),document.addEventListener("mousemove",h),document.addEventListener("mouseup",y),x("start")});let p,f=0,m=!1,g=0,v=0;function h(t){return t.preventDefault(),!(Math.abs(t.screenX-g)<5&&Math.abs(t.screenY-v)<5)&&(m||(m=!0,function(t){de.set(!0),u.nodeMoving.value=!0,r.moving=!0;let n=e;for(;!n.classList.contains("tree-org-node");)f+=n.offsetLeft,n=n.offsetParent;f+=2,p=document.querySelector("#clone-tree-org"),p&&(p.style.width="".concat(n.clientWidth,"px"),p.style.opacity="0.8",p.style.left=t.clientX-f+"px",p.style.top=t.clientY+2+"px")}(t)),n&&o&&c?(p&&(p.style.left=t.clientX-f+"px",p.style.top=t.clientY+2+"px"),void x("move")):n&&c?(e.style.left=t.clientX-f+"px",void x("move")):void(o&&c&&(e.style.top=t.clientY+"px",x("move"))))}function y(e){if(document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",y),m){if("function"==typeof i){const t=i(r,u.parenNode.value);t&&t.then?t.then(()=>{b(e)},()=>{}):!1!==t&&b(e)}else b(e);m=!1,p=null,r.moving=!1,u.nodeMoving.value=!1,setTimeout(()=>{de.set(!1)},200)}}function b(e){const t=document.querySelector(".tree-org-node__moving");if(t&&t.contains(e.target))return x("end"),!1;ue(r,u),x("end")}function x(e){"start"!==e?"move"!==e?"end"===e&&s("on-node-drag-end",r,u.parenNode.value):s("on-node-drag",r):s("on-node-drag-start",r)}}},fe={onClick:"onNodeClick",onDblclick:"onNodeDblclick",onContextmenu:"onNodeContextmenu",onMouseenter:"onNodeMouseenter",onMouseleave:"onNodeMouseleave"};function me(e,t){if("function"==typeof e)return function(n){n.target.className.indexOf("org-tree-node-btn")>-1||e(n,t)}}const ge=(e,t,n)=>!(Array.isArray(e[t])&&e[t].length>0)&&!n||e.isLeaf,ve=(e,t,n)=>{const{attrs:o}=n,a=["tree-org-node"],l=[],{expand:r,children:s,id:i}=t;return ge(t,"children",o.lazy)?a.push("is-leaf"):o.collapsable&&!r&&a.push("collapsed"),t.moving&&a.push("tree-org-node__moving"),l.push(he(e,t,n)),o.collapsable&&!r||l.push(ye(e,s,n)),v(e("div",{class:a,key:i},l),[[h,!t.hidden]])},he=(e,t,n)=>{const{attrs:o}=n,a=o.props,l=o.renderContent,{label:r}=t,s=[];if(n.slots.default)s.push(n.slots.default({node:t}));else if("function"==typeof l){se.warning("scoped-slot header is easier to use. We recommend users to use scoped-slot header.");const n=l(e,t);n&&s.push(n)}else s.push(e("div",{class:"tree-org-node__text"},r));o.collapsable&&!ge(t,"children",o.lazy)&&s.push(((e,t,n)=>{const{attrs:o}=n,a=o.onOnExpand,l=["tree-org-node__expand"];t.expand&&l.push("expanded");const r=[];return n.slots.expand?r.push(n.slots.expand({node:t})):r.push(e("span",{class:"tree-org-node__expand-btn"})),e("span",{class:l,onMousedown:e=>{e.stopPropagation()},onDblclick:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),a&&a(e,t)}},r)})(e,t,n));const i=["tree-org-node__inner"];let{labelStyle:d,labelClassName:c,selectedClassName:u,selectedKey:p}=o;"function"==typeof c&&(c=c(t)),c&&i.push(c),t.className&&i.push(t.className),"function"==typeof u&&(u=u(t)),void 0!==p&&(p=Array.isArray(p)?p:[p]),u&&p&&p.includes(t.id)&&i.push(u);const f=["tree-org-node__content"];t.$$root&&f.push("is-root_".concat(o.suffix)),t.label||f.push("is-empty"),t.$$focused&&f.push("is-edit");const m=L("nodedrag"),g=[];o.vNodedrag&&m&&!t.$$root&&g.push([m,Object.assign({node:t},o.vNodedrag),"",{l:!0,t:!0}]);const y={};for(const v in fe)if(Object.prototype.hasOwnProperty.call(fe,v)){const e=o[fe[v]];e&&(y[v]=me(e,t))}const b=o.onNodeFocus,x=o.onNodeBlur,_=L("focus"),$=[[h,t.$$focused]];return _&&$.push([_,t.$$focused]),e("div",{class:f},[v(e("div",{class:i,style:t.style?t.style:d,...y},s),g),v(e("textarea",{class:"tree-org-node__textarea",placeholder:"请输入节点名称",value:t.label,onFocus:e=>{b&&b(e,t.$$data,t)},onInput:e=>{t.label=e.target.value},onBlur:e=>{void 0!==t.$$data.focused&&(t.$$data.focused=!1),t.$$data[a.label]=e.target.value,t.$$focused=!1,x&&x(e,t.$$data,t)},onClick:e=>e.stopPropagation()}),$)])},ye=(e,t,n)=>{if(Array.isArray(t)&&t.length){const o=t.filter(e=>!e.$$hidden).map(t=>ve(e,t,n));return e("div",{class:"tree-org-node__children"},o)}return""},be=(e,t)=>e.data&&0!==Object.keys(e.data).length?(e.data.$$root=!e.isClone,ve(C,e.data,t)):"";be.directives={focus:{mounted(e,{value:t}){t&&e.focus()},updated(e,{value:t}){t&&e.focus()}},nodedrag:pe};var xe=i({props:{scale:String,tools:Object},setup(e,{emit:t}){const n=N(!1),o=N(!1);function a(e){o.value=!o.value,t("onFullscreen",e)}function l(){document.isFullScreen||document.mozIsFullScreen||document.webkitIsFullScreen||!o.value||a("esc")}const r=O(()=>n.value?"全部收起":"全部展开"),s=O(()=>o.value?"退出全屏":"全屏");return w(()=>{window.addEventListener("resize",l)}),T(()=>{window.removeEventListener("resize",l)}),{expanded:n,fullscreen:o,expandTitle:r,fullTiltle:s,handleExpand:function(){n.value=!n.value,t("onExpand")},handleScale:function(e){"out"===e?t("onScale",.1):"in"===e?t("onScale",-.1):t("onRestore")},handleFullscreen:a}}});const _e={class:"zm-tree-handle"},$e={key:0,class:"zm-tree-percent"},Ne=["title"],ke={class:"zm-tree-svg"},Se=[s("span",{class:"zm-tree-icon"},"+",-1)],Ee=[s("span",{class:"zm-tree-icon"},"-",-1)],De=[s("span",{class:"zm-tree-restore"},null,-1)],we=["title"],Me={class:"zm-tree-svg"};function Oe(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function ze(e,t,n,o=1){return{deltaX:Math.round(t/o/e[0])*e[0],deltaY:Math.round(n/o/e[1])*e[1]}}function Ce(e,t,n){return e<t?t:n<e?n:e}xe.render=function(e,t,n,o,a,l){return Y(),d("div",_e,[e.tools.scale?(Y(),d("div",$e,u(e.scale),1)):c("v-if",!0),e.tools.expand?(Y(),d("div",{key:1,onClick:t[0]||(t[0]=(...t)=>e.handleExpand&&e.handleExpand(...t)),title:e.expandTitle,class:"zm-tree-handle-item"},[s("span",ke,[s("i",{class:p(["treefont",e.expanded?"icon-collapse":"icon-expand"])},null,2)])],8,Ne)):c("v-if",!0),e.tools.zoom?(Y(),d("div",{key:2,onClick:t[1]||(t[1]=t=>e.handleScale("out")),title:"放大",class:"zm-tree-handle-item zoom-out"},Se)):c("v-if",!0),e.tools.zoom?(Y(),d("div",{key:3,onClick:t[2]||(t[2]=t=>e.handleScale("in")),title:"缩小",class:"zm-tree-handle-item zoom-in"},Ee)):c("v-if",!0),e.tools.restore?(Y(),d("div",{key:4,onClick:t[3]||(t[3]=t=>e.handleScale("restore")),title:"还原",class:"zm-tree-handle-item"},De)):c("v-if",!0),e.tools.fullscreen?(Y(),d("div",{key:5,onClick:t[4]||(t[4]=(...t)=>e.handleFullscreen&&e.handleFullscreen(...t)),title:e.fullTiltle,class:"zm-tree-handle-item"},[s("span",Me,[s("i",{class:p(["treefont",e.fullscreen?"icon-unfullscreen":"icon-fullscreen"])},null,2)])],8,we)):c("v-if",!0)])},xe.__file="src/components/tools/tools.vue";const Ae=function(e,t,n,o=!1){e&&t&&n&&e.addEventListener(t,n,o)},Le=function(e,t,n,o=!1){e&&t&&n&&e.removeEventListener(t,n,o)},Te=Symbol("wrapper");function Ye(e,t){if(null===(n=e)||"object"!=typeof n||e.__elPropsReservedKey)return e;var n;const{values:o,required:a,default:l,type:r,validator:s}=e,i=o||s?e=>{let n=!1,a=[];if(o&&(a=[...o,l],n=n||a.includes(e)),s&&(n=n||s(e)),!n&&a.length>0){const n=[...new Set(a)].map(e=>JSON.stringify(e)).join(", ");E("Invalid prop: validation failed".concat(t?' for prop "'.concat(t,'"'):"",". Expected one of [").concat(n,"], got value ").concat(JSON.stringify(e),"."))}return n}:void 0;return{type:"object"==typeof r&&Object.getOwnPropertySymbols(r).includes(Te)?r[Te]:r,validator:i,__elPropsReservedKey:!0,default:l,required:!!a}}const Fe=e=>function(e){let t=-1;const n=e?e.length:0,o={};for(;++t<n;){const n=e[t];o[n[0]]=n[1]}return o}(Object.entries(e).map(([e,t])=>[e,Ye(t,e)])),je=e=>({[Te]:e});var Re=i({replace:!0,name:"Draggable",props:Fe({className:{type:String,default:"zm-draggable"},classNameDraggable:{type:String,default:"draggable"},classNameDragging:{type:String,default:"dragging"},classNameActive:{type:String,default:"active"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:e=>"string"==typeof e?"auto"===e:e>=0},dragCancel:String,axis:{type:String,default:"both",validator:e=>["x","y","both"].includes(e)},grid:{type:Array,default:()=>[1,1]},parent:{type:Boolean,default:!1},scale:{type:Number,default:1,validator:e=>e>0}}),emits:{activated:()=>!0,deactivated:()=>!0,dragging:(e,t)=>re(e)&&re(t),dragstop:(e,t)=>re(e)&&re(t),"update:active":e=>"boolean"==typeof e},setup(e,t){const n=N(),o=((e,{emit:t},n)=>{const o={start:"mousedown",move:"mousemove",stop:"mouseup"},a={start:"touchstart",move:"touchmove",stop:"touchend"},l={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},r={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let s=o;const i=N(e.x),d=N(e.y),c=N(e.z),u=N(e.active),p=N(!1),f=N(0),m=N(0),g=N(0),v=N(0),h=N(0),y=N(0);let b={},x={};function _(){b={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},x={minLeft:-1/0,maxLeft:1/0,minRight:-1/0,maxRight:1/0,minTop:-1/0,maxTop:1/0,minBottom:-1/0,maxBottom:1/0}}function $(){if(e.parent){const[e,t]=k();h.value=e||0,y.value=t||0}}function k(){if(e.parent&&n.eleRef.value){const e=window.getComputedStyle(n.eleRef.value.parentNode,null);return[parseInt(e.getPropertyValue("width"),10),parseInt(e.getPropertyValue("height"),10)]}return[0,0]}function S(o){if(o instanceof MouseEvent&&1!==o.which)return;const a=o.target||o.srcElement;if(a&&n.eleRef.value&&n.eleRef.value.contains(a)){if(e.dragCancel&&function(e,t,n){let o=e;const a=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(e=>o&&Oe(o[e]))||"";if(!Oe(o[a]))return!1;do{if(o[a](t))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}(a,e.dragCancel,n.eleRef.value))return void(p.value=!1);u.value||(u.value=!0,t("activated"),t("update:active",!0)),e.draggable&&(p.value=!0),o instanceof MouseEvent?(b.mouseX=o.pageX,b.mouseY=o.pageY):(b.mouseX=o.touches[0].pageX,b.mouseY=o.touches[0].pageY),b.left=i.value,b.right=f.value,b.top=d.value,b.bottom=m.value,e.parent&&(x=E()),Ae(document.documentElement,s.move,A),Ae(document.documentElement,s.stop,L)}}function E(){const t=e.grid;return{minLeft:i.value%t[0],maxLeft:Math.floor((h.value-g.value-i.value)/t[0])*t[0]+i.value,minRight:f.value%t[0],maxRight:Math.floor((h.value-g.value-f.value)/t[0])*t[0]+f.value,minTop:d.value%t[1],maxTop:Math.floor((y.value-v.value-d.value)/t[1])*t[1]+d.value,minBottom:m.value%t[1],maxBottom:Math.floor((y.value-v.value-m.value)/t[1])*t[1]+m.value}}function C(o){const a=o.target||o.srcElement;n.eleRef.value&&!n.eleRef.value.contains(a)&&u.value&&!e.preventDeactivation&&(u.value=!1,t("deactivated"),t("update:active",!1))}function A(n){p.value&&function(n){const o=e.axis,a=e.grid;let l=0,r=0;n instanceof MouseEvent?(l=n.pageX,r=n.pageY):(l=n.touches[0].pageX,r=n.touches[0].pageY);const s=o&&"y"!==o?b.mouseX-l:0,c=o&&"x"!==o?b.mouseY-r:0,{deltaX:u,deltaY:p}=ze(a,s,c,e.scale),g=Ce(b.left-u,x.minLeft,x.maxLeft),v=Ce(b.top-p,x.minTop,x.maxTop),h=Ce(b.right+u,x.minRight,x.maxRight),y=Ce(b.bottom+p,x.minBottom,x.maxBottom);i.value=g,d.value=v,f.value=h,m.value=y,t("dragging",i.value,d.value)}(n)}function L(){_(),p.value&&(p.value=!1,t("dragstop",i.value,d.value))}D(()=>{_()}),w(()=>{!e.enableNativeDrag&&n.eleRef.value&&(n.eleRef.value.ondragstart=()=>!1);const[t,o]=k();if(h.value=t,y.value=o,n.eleRef.value){const[e,t]=function(e){const t=window.getComputedStyle(e);return[parseFloat(t.getPropertyValue("width")),parseFloat(t.getPropertyValue("height"))]}(n.eleRef.value);g.value=e,v.value=t,f.value=h.value-g.value-i.value,m.value=y.value-v.value-d.value}Ae(document.documentElement,"mousedown",C),Ae(document.documentElement,"touchend touchcancel",C),Ae(window,"resize",$)}),M(()=>{Le(document.documentElement,"mousedown",C),Le(document.documentElement,"touchstart",L),Le(document.documentElement,"mousemove",A),Le(document.documentElement,"touchmove",A),Le(document.documentElement,"mouseup",L),Le(document.documentElement,"touchend touchcancel",C),Le(window,"resize",$)});const T=O(()=>({transform:"translate(".concat(i.value,"px, ").concat(d.value,"px)"),zIndex:c.value,...p.value&&e.disableUserSelect?l:r}));return z(()=>e.active,e=>{u.value=e,t(e?"activated":"deactivated")}),z(()=>e.z,e=>{(e>=0||"auto"===e)&&(c.value=e)}),z(()=>e.x,t=>{p.value||(e.parent&&(x=E()),function(t){const{deltaX:n}=ze(e.grid,t,d.value,e.scale),o=Ce(n,x.minLeft,x.maxLeft);i.value=o,f.value=h.value-g.value-o}(t))}),z(()=>e.y,t=>{p.value||(e.parent&&(x=E()),function(t){const{deltaY:n}=ze(e.grid,i.value,t,e.scale),o=Ce(n,x.minTop,x.maxTop);d.value=o,m.value=y.value-v.value-o}(t))}),{enabled:u,dragging:p,style:T,resetBoundsAndMouseState:_,elementTouchDown:function(e){s=a,S(e)},elementMouseDown:function(e){s=o,S(e)}}})(e,t,{eleRef:n});return{top:top,eleRef:n,...o}}});Re.render=function(e,t,n,o,a,l){return Y(),d("div",{style:m(e.style),class:p([{[e.classNameActive]:e.enabled,[e.classNameDragging]:e.dragging,[e.classNameDraggable]:e.draggable},e.className]),ref:"eleRef",onMousedown:t[0]||(t[0]=(...t)=>e.elementMouseDown&&e.elementMouseDown(...t)),onTouchstart:t[1]||(t[1]=(...t)=>e.elementTouchDown&&e.elementTouchDown(...t))},[f(e.$slots,"default")],38)},Re.__file="src/components/draggable/src/draggable.vue";var Pe=i({components:{TreeOrgNode:be},props:Fe({data:{type:Object,required:!0},props:{type:je(Object)},modelValue:Boolean,horizontal:Boolean,selectedKey:String,collapsable:Boolean,renderContent:Function,labelStyle:Object,labelClassName:{type:[Function,String]}}),setup:(e,t)=>({defaultSlot:!!t.slots.default,expandSlot:!!t.slots.expand})});Pe.render=function(e,t,n,o,a,l){const r=k("tree-org-node");return Y(),g(_,{to:"body"},[v(s("div",{id:"clone-tree-org",class:p(["clone-tree-org tree-org",{horizontal:e.horizontal,collapsable:e.collapsable}])},[y(r,{data:e.data,props:e.props,isClone:!1,horizontal:e.horizontal,labelStyle:e.labelStyle,collapsable:e.collapsable,renderContent:e.renderContent,labelClassName:e.labelClassName},b({_:2},[e.defaultSlot?{name:"default",fn:x(({node:t})=>[f(e.$slots,"default",{node:t})])}:void 0,e.expandSlot?{name:"expand",fn:x(({node:t})=>[f(e.$slots,"expand",{node:t})])}:void 0]),1032,["data","props","horizontal","labelStyle","collapsable","renderContent","labelClassName"])],2),[[h,e.modelValue]])])},Pe.__file="src/components/clone-org/clone-org.vue";const Ie=(e,{emit:t},n)=>{const o=N("");function a(e,t,n){if(e[t.id]===n)return e;if(Array.isArray(e[t.children])){const o=e[t.children];for(let e=0,l=o.length;e<l;e++){const l=a(o[e],t,n);if(l)return l}}}function l(){const{props:n,data:o,node:l}=e;if(e.nodeDelete)return void e.nodeDelete(l.$$data);if(l.$$root)return void se.pretty("[提示] ","根节点不允许删除","danger");const{id:r,children:s}=n,i=a(o,n,l.pid);if(i){const e=i[s];for(let n=0,o=e.length;n<o;n++)if(e[n][r]===l.id){e.splice(n,1),t("onNodeDelete",l.$$data,l);break}}}function r(){const{nodeEdit:n,node:o}=e;n?n(o.$$data):(o.$$focused=!0,t("onNodeFocus",o.$$data))}function s(o){if(e.modelValue){if(n.eleRef.value&&n.eleRef.value.contains(o.target))return!1;t("update:modelValue",!1)}}const i=O(()=>({left:"".concat(e.x,"px"),top:"".concat(e.y,"px")})),d=O(()=>!e.disabled&&!e.node.disabled);return w(()=>{document.addEventListener("mousedown",s)}),M(()=>{document.removeEventListener("mousedown",s)}),{position:i,editable:d,handleMenu:function(a){const s=a.target;if("zm-tree-menu-item"===s.className){const a=s.getAttribute("action");switch(a){case"copy":e.nodeCopy?e.nodeCopy(e.node.$$data):(o.value=e.node.label,A(()=>{n.inputRef&&n.inputRef.value&&(n.inputRef&&n.inputRef.value.select(),navigator.clipboard.writeText(o.value).then(function(){se.pretty("[提示] ","文本复制成功","success")},function(){se.pretty("[错误] ","浏览器不支持","danger")}),t("onNodeCopy",o.value))}));break;case"add":!function(){if(e.nodeAdd)return void e.nodeAdd(e.node.$$data);const{id:n,pid:o,label:a,expand:l,children:r}=e.props,{node:s}=e,i={[n]:String((new Date).getTime()),[o]:s.id,[a]:"",[l]:!1,[r]:[],newNode:!0,focused:!0};Array.isArray(s.children)?s.$$data[r].push(i):s.$$data[r]=[i],t("onNodeFocus",i)}();break;case"edit":r();break;case"delete":l()}t("contextmenu",{command:a,node:e.node,data:e.node.$$data}),t("update:modelValue",!1)}},handleEdit:r,handleClose:s,afterEnter:function(){t("opened")},afterLeave:function(){t("closed")}}};var Be=i({name:"Contextmenu",props:Fe({modelValue:{type:Boolean,required:!0},data:{type:Object,required:!0},node:{type:je(Object),required:!0},props:{type:je(Object)},x:Number,y:Number,menus:{type:je(Array)},nodeAdd:Function,nodeDelete:Function,nodeEdit:Function,nodeCopy:Function,disabled:Boolean}),emits:{onNodeDelete:(e,t)=>ae(e)&&ae(t),onNodeCopy:e=>le(e),contextmenu:e=>ae(e),onNodeFocus:e=>ae(e),opened:()=>!0,closed:()=>!0,"update:modelValue":e=>"boolean"==typeof e},setup(e,t){const n=N(),o=N();return{eleRef:o,inputRef:n,copyText:N(""),oldData:S({}),...Ie(e,t,{inputRef:n,eleRef:o})}}});const Ve=["action"];Be.render=function(e,t,n,o,a,l){return Y(),g(_,{to:"body"},[y($,{name:"dialog-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,persisted:""},{default:x(()=>[v(s("div",{style:m(e.position),onClick:t[1]||(t[1]=(...t)=>e.handleMenu&&e.handleMenu(...t)),ref:"eleRef",class:"zm-tree-contextmenu"},[s("ul",null,[(Y(!0),d(F,null,j(e.menus,t=>(Y(),d(F,null,[e.editable||!["add","edit","delete"].includes(t.command)?(Y(),d("li",{class:"zm-tree-menu-item",action:t.command,key:t.command},u(t.name),9,Ve)):c("v-if",!0)],64))),256))]),v(s("textarea",{class:"copy-textarea",ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=t=>e.copyText=t)},null,512),[[R,e.copyText]])],4),[[h,e.modelValue]])]),_:1},8,["onAfterEnter","onAfterLeave"])])},Be.__file="src/components/contextmenu/src/contextmenu.vue";const He=[{name:"复制文本",command:"copy"},{name:"新增节点",command:"add"},{name:"编辑节点",command:"edit"},{name:"删除节点",command:"delete"}],qe=Fe({data:{type:Object,required:!0},center:Boolean,props:{type:je(Object),default:()=>({id:"id",pid:"pid",label:"label",expand:"expand",children:"children"})},toolBar:{type:[Object,Boolean],default:()=>({expand:!0,scale:!0,zoom:!0,restore:!0,fullscreen:!0})},disabled:{type:Boolean,default:!1},scalable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},draggableOnNode:{type:Boolean,default:!1},nodeDraggable:{type:Boolean,default:!0},cloneNodeDrag:{type:Boolean,default:!0},onlyOneNode:{type:Boolean,default:!0},clickDelay:{type:Number,default:260},lazy:Boolean,load:{type:je(Function)},defaultExpandLevel:Number,defaultExpandKeys:{type:Array,default:()=>[]},beforeDragEnd:Function,horizontal:Boolean,selectedKey:{type:[Array,String,Number]},collapsable:Boolean,renderContent:Function,labelStyle:Object,labelClassName:{type:[Function,String]},selectedClassName:{type:[Function,String]},defineMenus:{type:je([Array,Function]),default:()=>He},nodeAdd:Function,nodeDelete:Function,nodeEdit:Function,nodeCopy:Function,filterNodeMethod:Function}),Xe=(e,{emit:t},n)=>{const o=N(0),a=N(0),l=N(!1);function r(t,l){const r=n.zoomRef.value,s=n.treeRef.value;let i=r.clientWidth/2;const d=r.clientHeight/2;let c=r.clientHeight-s.clientHeight,u=r.clientWidth-s.clientWidth;if(c>0&&(c=0),u>0&&(u=0),e.center){const e=(r.clientWidth-s.clientWidth)/2;u-=e,i-=e}o.value=t>i?i:t<u?u:t,a.value=l<c?c:l>d?d:l}function s(e,n){r(e,n),setTimeout(()=>{de.set(!1)},200),t("on-drag-stop",{x:e,y:n})}const i=N(!1),d=S({value:{}}),c=N(!1),u=N(0),p=N(0),f=N({}),m=N([]),g=N(1);function v(t){if(!e.scalable)return;const n=Number((Number(g.value)+t).toFixed(1));g.value=t>0?Math.min(3,n):Math.max(.3,n)}function h(t,n,s){if(l.value=!0,!e.center||e.horizontal){const e=t.offsetLeft-n;o.value-=e}const i=t.offsetTop-s;a.value-=i,r(o.value,a.value)}let y;const b=S(Object.assign({id:"id",pid:"pid",label:"label",expand:"expand",children:"children",isLeaf:"isLeaf"},e.props)),x=N(!1);function _(e){e.forEach(e=>{e.expand&&(e.expand=!1,j.delete(e.id)),e.children&&_(e.children)})}const $=N(!1);function k(e,t){Array.isArray(e)?e.forEach(e=>{t&&j.add(e.id),e.expand=t,t&&j.add(e.id),e.children&&k(e.children,t)}):(t&&j.add(e.id),e.expand=t,t&&j.add(e.id),e.children&&k(e.children,t))}function E(e){P.value=R(e)}const w=O(()=>({width:100/g.value+"%",height:100/g.value+"%",transform:"scale(".concat(g.value,")")})),M=O(()=>"".concat(Math.round(100*g.value),"%")),C=O(()=>e.draggableOnNode&&!e.nodeDraggable?"":".tree-org-node__content:not(.is-root_".concat(B,")>.tree-org-node__inner")),L=O(()=>$.value?"收起全部节点":"展开全部节点"),T=O(()=>$.value?"收起全部节点":"展开全部节点"),Y=N({}),F=O(()=>{const{cloneNodeDrag:n,onlyOneNode:o,data:a}=e;return{drag:e.nodeDraggable,dragData:{keys:b,nodeMoving:i,stopClick:de,parenNode:d,cloneNodeDrag:n,onlyOneNode:o,contextmenu:c,cloneData:Y,data:a},beforeDragEnd:e.beforeDragEnd,initNodes:R,emit:t}});z(()=>e.horizontal,()=>{A(()=>{s(o.value,a.value)})});let j=new Set(e.defaultExpandKeys);function R(t){const{defaultExpandLevel:n=0}=e,o=(e,t)=>{const{id:a,label:l,pid:r,expand:s,children:i,isLeaf:d}=b,c={};Object.keys(e).map(t=>{["hidden","disabled","className","style"].includes(t)&&(c[t]=e[t])});const u=e[i],p=t+1,f=e[s],m=e[a];return(f||void 0===f&&t<n)&&j.add(m),{...c,id:m,label:e[l],pid:e[r],expand:j.has(m),children:u?u.map(e=>o(e,p)):void 0,isLeaf:e[d],$$level:t,$$data:e,$$focused:e.focused||!1}};return o(t,0)}const P=N(R(e.data));z(()=>e.data,(t,n)=>{t!==n&&(j=new Set(e.defaultExpandKeys)),E(e.data)},{deep:!0});const I=S({visible:!0,data:{expand:!0,scale:!0,zoom:!0,restore:!0,fullscreen:!0}});D(()=>{"object"==typeof e.toolBar?Object.assign(I.data,e.toolBar):e.toolBar||(I.visible=!1)});const B=function(e){e=e||32;const t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678";let n="";for(let o=0;o<e;o++)n+=t.charAt(Math.floor(48*Math.random()));return n}(6);return{keys:b,left:o,top:a,menuX:u,menuY:p,suffix:B,nodeMoving:i,zoomStyle:w,tools:I,zoomPercent:M,dragCancel:C,expandTitle:L,fullTiltle:T,nodeargs:F,expanded:$,fullscreen:x,treeData:P,autoDragging:l,contextmenu:c,nodeMenus:m,menuData:f,cloneData:Y,filter:function(t){const n=e.filterNodeMethod;if(!n)throw new Error("[Tree] filterNodeMethod is required when filter");const o=function(e){const a=e.children||[];if(a.forEach(e=>{e.$$hidden=!n.call(e,t,e),o(e)}),e.$$hidden&&a.length){let t=!0;t=a.some(e=>!e.$$hidden),e.$$hidden=!t}t&&!e.$$hidden&&e.children&&(e.expand=!0)};o(P.value)},setData:E,zoomWheel:function(n){e.scalable&&(n.preventDefault(),n.deltaY<0?v(.1):v(-.1),t("on-zoom",g.value))},onDrag:function(e,n){de.set(!0),l.value=!1,o.value=e,a.value=n,t("on-drag",{x:e,y:n})},onDragStop:s,expandChange:function(){$.value=!$.value,$.value||(j.clear(),A(()=>{s(o.value,a.value)})),k(P.value,$.value),t("on-expand-all",$.value)},handleFullscreen:function(e){x.value=!x.value,"esc"!==e&&(x.value?function(){const e=n.eleRef.value;e.requestFullscreen&&e.requestFullscreen()}():document.exitFullscreen&&document.exitFullscreen())},zoomOrgchart:v,restoreOrgchart:function(){g.value=1,o.value=0,a.value=0,t("on-restore")},handleExpand:function(n,o){n.stopPropagation();const a=document.querySelector(".is-root_".concat(B));if(a){const r=a.offsetLeft,s=a.offsetTop;o.expand=!o.expand;let i=!0;o.expand?(j.add(o.id),e.lazy&&e.load&&(i=!1,l=o,(0,e.load)(l,(e,t)=>{const{children:n}=b;l.isLeaf=!e.length,e.length&&(l.$$data[n]=e,t&&A(()=>{h(a,r,s)}))}))):!o.expand&&o.children&&(j.delete(o.id),_(o.children)),A(()=>{i&&h(a,r,s)}),t("on-expand",n,o.$$data,o)}var l},getExpandKeys:function(){return[...j]},setExpandKeys:function(t){j=new Set(t),E(e.data)},nodeMouseenter:function(e,n){return i.value&&(d.value=n),t("on-node-mouseenter",e,n.$$data,n),!0},nodeMouseleave:function(e,n){return i.value&&(d.value=null),t("on-node-mouseleave",e,n.$$data,n),!0},nodeContextmenu:function(t,n){t.stopPropagation(),t.preventDefault();const{defineMenus:o}=e;Array.isArray(o)?m.value=o:"function"==typeof o&&(m.value=o(t,n)||[]),c.value=!0,u.value=t.clientX,p.value=t.clientY,f.value=n},handleFocus:function(e,n,o){t("on-node-focus",e,n,o)},handleBlur:function(e,n,o){const{id:a,label:l}=b,r=f.value.children||[];for(let t=r.length;t>0;t--){const e=r[t-1];if(""===e[a]&&""===e[l]){r.splice(t-1,1);break}}t("on-node-blur",e,n,o)},handleClick:function(n,o){de.get()||(clearTimeout(y),y=setTimeout(()=>{t("on-node-click",n,o.$$data,o)},e.clickDelay))},handleDblclick:function(e,n){clearTimeout(y),t("on-node-dblclick",e,n.$$data,n)}}};var We=i({name:"vue3TreeOrg",components:{Tools:xe,CloneOrg:Pe,Draggable:Re,Contextmenu:Be,TreeOrgNode:be},directives:{nodedrag:pe},props:qe,emits:{"on-drag":({x:e,y:t})=>re(e)&&re(t),"on-drag-stop":({x:e,y:t})=>re(e)&&re(t),"on-restore":()=>!0,"on-zoom":e=>re(e),"on-expand":(e,t,n)=>e instanceof MouseEvent&&ae(n)&&ae(t),"on-expand-all":e=>"boolean"==typeof e,"on-node-blur":(e,t,n)=>e instanceof FocusEvent&&ae(n)&&ae(t),"on-node-click":(e,t,n)=>e instanceof MouseEvent&&ae(n)&&ae(t),"on-node-dblclick":(e,t,n)=>e instanceof MouseEvent&&ae(n)&&ae(t),"on-node-mouseenter":(e,t,n)=>e instanceof MouseEvent&&ae(n)&&ae(t),"on-node-mouseleave":(e,t,n)=>e instanceof MouseEvent&&ae(n)&&ae(t),"on-contextmenu":e=>ae(e),"on-node-copy":e=>le(e),"on-node-delete":e=>ae(e),"on-node-drag-start":e=>ae(e),"on-node-drag":e=>ae(e),"on-node-drag-end":(e,t)=>ae(e)&&ae(t),"on-node-focus":(e,t,n)=>e instanceof FocusEvent&&ae(n)&&ae(t)},setup(e,t){const n=!!t.slots.default,o=!!t.slots.expand,a=N(),l=N(),r=N();return{eleRef:a,treeRef:l,zoomRef:r,defaultSlot:n,expandSlot:o,...Xe(e,t,{eleRef:a,treeRef:l,zoomRef:r})}}});const Ue={ref:"eleRef",class:"zm-tree-org"},Ke={class:"tree-org-node__text"},Je=s("span",{class:"tree-org-node__expand-btn"},null,-1),Qe={class:"tree-org-node__text"},Ge=s("span",{class:"tree-org-node__expand-btn"},null,-1);We.render=function(e,t,n,o,a,l){const r=k("tree-org-node"),i=k("Draggable"),v=k("Tools"),h=k("clone-org"),_=k("Contextmenu");return Y(),d("div",Ue,[s("div",{ref:"zoomRef",class:p(["zoom-container",{"is-center":e.center&&!e.horizontal}]),style:m(e.zoomStyle),onWheel:t[0]||(t[0]=(...t)=>e.zoomWheel&&e.zoomWheel(...t))},[y(i,{x:e.left,y:e.top,class:p({dragging:e.autoDragging}),onDragging:e.onDrag,onDragstop:e.onDragStop,draggable:e.draggable,"drag-cancel":e.dragCancel},{default:x(()=>[s("div",{ref:"treeRef",class:p(["tree-org",{horizontal:e.horizontal,collapsable:e.collapsable}])},[y(r,{data:e.treeData,props:e.keys,lazy:e.lazy,suffix:e.suffix,horizontal:e.horizontal,labelStyle:e.labelStyle,collapsable:e.collapsable,renderContent:e.renderContent,selectedKey:e.selectedKey,defaultExpandLevel:e.defaultExpandLevel,selectedClassName:e.selectedClassName,labelClassName:e.labelClassName,vNodedrag:e.nodeargs,onOnExpand:e.handleExpand,onNodeClick:e.handleClick,onNodeDblclick:e.handleDblclick,onNodeMouseenter:e.nodeMouseenter,onNodeMouseleave:e.nodeMouseleave,onNodeContextmenu:e.nodeContextmenu,onNodeFocus:e.handleFocus,onNodeBlur:e.handleBlur},b({_:2},[e.defaultSlot?{name:"default",fn:x(({node:t})=>[f(e.$slots,"default",{node:t},()=>[s("div",Ke,[s("span",null,u(t.label),1)])])])}:void 0,e.expandSlot?{name:"expand",fn:x(({node:t})=>[f(e.$slots,"expand",{node:t},()=>[Je])])}:void 0]),1032,["data","props","lazy","suffix","horizontal","labelStyle","collapsable","renderContent","selectedKey","defaultExpandLevel","selectedClassName","labelClassName","vNodedrag","onOnExpand","onNodeClick","onNodeDblclick","onNodeMouseenter","onNodeMouseleave","onNodeContextmenu","onNodeFocus","onNodeBlur"])],2)]),_:3},8,["x","y","class","onDragging","onDragstop","draggable","drag-cancel"])],38),e.tools.visible?(Y(),g(v,{key:0,tools:e.tools.data,scale:e.zoomPercent,onOnExpand:e.expandChange,onOnScale:e.zoomOrgchart,onOnRestore:e.restoreOrgchart,onOnFullscreen:e.handleFullscreen},null,8,["tools","scale","onOnExpand","onOnScale","onOnRestore","onOnFullscreen"])):c("v-if",!0),e.nodeDraggable?(Y(),g(h,{key:1,modelValue:e.nodeMoving,"onUpdate:modelValue":t[1]||(t[1]=t=>e.nodeMoving=t),props:e.keys,data:e.cloneData,horizontal:e.horizontal,"label-style":e.labelStyle,collapsable:e.collapsable,"render-content":e.renderContent,"label-class-name":e.labelClassName},b({_:2},[e.defaultSlot?{name:"default",fn:x(({node:t})=>[f(e.$slots,"default",{node:t},()=>[s("div",Qe,[s("span",null,u(t[e.keys.label]),1)])])])}:void 0,e.expandSlot?{name:"expand",fn:x(({node:t})=>[f(e.$slots,"expand",{node:t},()=>[Ge])])}:void 0]),1032,["modelValue","props","data","horizontal","label-style","collapsable","render-content","label-class-name"])):c("v-if",!0),e.nodeMenus.length?(Y(),g(_,{key:2,modelValue:e.contextmenu,"onUpdate:modelValue":t[2]||(t[2]=t=>e.contextmenu=t),x:e.menuX,y:e.menuY,node:e.menuData,data:e.data,props:e.keys,menus:e.nodeMenus,disabled:e.disabled,"node-add":e.nodeAdd,"node-delete":e.nodeDelete,"node-edit":e.nodeEdit,"node-copy":e.nodeCopy,onContextmenu:t[3]||(t[3]=t=>{e.$emit("on-contextmenu",t)}),onOnNodeCopy:t[4]||(t[4]=t=>{e.$emit("on-node-copy",t)}),onOnNodeDelete:t[5]||(t[5]=t=>{e.$emit("on-node-delete",t)})},null,8,["modelValue","x","y","node","data","props","menus","disabled","node-add","node-delete","node-edit","node-copy"])):c("v-if",!0)],512)},We.__file="src/components/tree-org/src/tree.vue",We.install=function(e){e.component(We.name,We)};const Ze=[We];var et={install:function(e){Ze.forEach(t=>{e.component(t.name,t)}),e.use(ie)},Vue3TreeOrg:We};const tt=S({loadingOperations:new Map,isLoading:!1,message:"",type:"default"});let nt=0;const ot=function(){function e(e="加载中...",t="default",o=null){const a=o||"loading_".concat(++nt,"_").concat(Date.now());return tt.loadingOperations.set(a,{message:e,type:t,startTime:Date.now()}),n(),a}function t(e){if(tt.loadingOperations.has(e)){const t=tt.loadingOperations.get(e);Date.now(),t.startTime;tt.loadingOperations.delete(e),n()}}function n(){const e=Array.from(tt.loadingOperations.values());if(tt.isLoading=e.length>0,e.length>0){const t=e[e.length-1];tt.message=t.message,tt.type=t.type}else tt.message="",tt.type="default"}return{globalLoadingState:tt,startLoading:e,stopLoading:t,stopAllLoading:function(){tt.loadingOperations.size,tt.loadingOperations.clear(),n()},isOperationLoading:function(e){return tt.loadingOperations.has(e)},getCurrentOperations:function(){return Array.from(tt.loadingOperations.entries()).map(([e,t])=>({key:e,...t}))},withLoading:async function(n,o="处理中...",a="default",l=null){const r=e(o,a,l);try{return await n()}catch(s){throw s}finally{t(r)}}}}(),at=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},lt={class:"loading-content"},rt={class:"loading-message"},st={key:0,class:"loading-count"},it=at(Object.assign({name:"GlobalLoading"},{__name:"GlobalLoading",setup(e){const{globalLoadingState:t}=ot,n=O(()=>({"global-loading":!0,"global-loading--visible":t.isLoading,["global-loading--".concat(t.type)]:!0})),o=O(()=>t.loadingOperations.size);return(e,a)=>(Y(),g($,{name:"loading-fade"},{default:x(()=>[P(t).isLoading?(Y(),d("div",{key:0,class:p(n.value)},[a[1]||(a[1]=s("div",{class:"loading-overlay"},null,-1)),s("div",lt,[a[0]||(a[0]=s("div",{class:"loading-spinner"},[s("div",{class:"spinner-ring"},[s("div"),s("div"),s("div"),s("div")])],-1)),s("div",rt,u(P(t).message),1),o.value>1?(Y(),d("div",st,u(o.value)+" 个操作进行中 ",1)):c("",!0)])],2)):c("",!0)]),_:1}))}}),[["__scopeId","data-v-546ed9fb"]]),dt={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]},ct={lang:t({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},{locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"}),timePickerLocale:t({},dt)};ct.lang.ok="确定";const ut="${label}不是一个有效的${type}",pt={locale:"zh-cn",Pagination:n,DatePicker:ct,TimePicker:dt,Calendar:ct,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckall:"全选",filterSearchPlaceholder:"在筛选项中搜索",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开"},PageHeader:{back:"返回"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:ut,method:ut,array:ut,object:ut,number:ut,date:ut,boolean:ut,integer:ut,float:ut,regexp:ut,email:ut,url:ut,hex:ut},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码已过期",refresh:"点击刷新",scanned:"已扫描"}},ft=I("theme",{state:()=>{const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;return{isDark:e?"dark"===e:t,themeMode:e||"system",systemMediaQuery:null}},getters:{theme:e=>e.isDark?"dark":"light",isSystemTheme:e=>"system"===e.themeMode,currentThemeMode:e=>e.themeMode},actions:{setTheme(e){if("string"==typeof e)if("system"===e)this.themeMode="system",localStorage.removeItem("theme"),this.isDark=window.matchMedia("(prefers-color-scheme: dark)").matches;else{if("dark"!==e&&"light"!==e)return!1;this.themeMode=e,this.isDark="dark"===e,localStorage.setItem("theme",e)}else{if("boolean"!=typeof e)return!1;this.themeMode=e?"dark":"light",this.isDark=e,localStorage.setItem("theme",this.theme)}return this.applyTheme(),!0},toggleTheme(){this.isDark=!this.isDark,this.themeMode=this.isDark?"dark":"light",localStorage.setItem("theme",this.theme),this.applyTheme()},initTheme(e){e&&!localStorage.getItem("theme")?this.setTheme(e):this.applyTheme(),this.systemMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemMediaQuery.addEventListener("change",e=>{"system"===this.themeMode&&(this.isDark=e.matches,this.applyTheme())})},applyTheme(){document.documentElement.setAttribute("data-theme",this.theme),this.isDark?(document.body.classList.add("dark"),document.body.setAttribute("data-theme","dark"),document.documentElement.classList.add("dark")):(document.body.classList.remove("dark"),document.body.setAttribute("data-theme","light"),document.documentElement.classList.remove("dark"))}},persist:!0});var mt,gt={exports:{}};mt||(mt=1,gt.exports=function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),o={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(o,null,!0),o}(o()));const vt={__name:"App",setup(e){a.locale("zh-cn");ft().initTheme("dark");const t={token:{fontSize:16,fontSizeHeading1:32}};return(e,n)=>{const o=k("router-view");return Y(),g(P(l),{locale:P(pt),theme:t},{default:x(()=>[y(o),y(it)]),_:1},8,["locale"])}}},ht=new Map;function yt(e,t={}){const n=e.getAttribute("data-loading-key")||"default",o="".concat(e,"_").concat(n);if(!ht.has(o)){const a=function(e,t={}){const n=document.createElement("div");n.className="v-loading-container",n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.right="0",n.style.bottom="0",n.style.zIndex="9999";const o='\n    <div class="loading-overlay" style="background: '.concat(t.background||"rgba(0, 0, 0, 0.7)",'">\n      <div class="loading-container">\n        <div class="loading-spinner ').concat("spinner-".concat(t.spinner||"default")," ").concat(t.size||"medium",'">\n          ').concat(function(e){switch(e){case"dots":return'\n        <div class="dot"></div>\n        <div class="dot"></div>\n        <div class="dot"></div>\n      ';case"bars":return'\n        <div class="bar"></div>\n        <div class="bar"></div>\n        <div class="bar"></div>\n        <div class="bar"></div>\n      ';case"pulse":return'<div class="pulse-circle"></div>';default:return'<div class="spinner-ring"></div>'}}(t.spinner||"default"),"\n        </div>\n        ").concat(t.text?'<div class="loading-text" style="color: '.concat(t.color||"#00ffff",'">').concat(t.text,"</div>"):"","\n      </div>\n    </div>\n  ");return n.innerHTML=o,{container:n,show(){e.contains(n)||e.appendChild(n)},hide(){e.contains(n)&&e.removeChild(n)},destroy(){e.contains(n)&&e.removeChild(n)}}}(e,t);ht.set(o,a),e.setAttribute("data-loading-key",n)}return ht.get(o)}const bt={mounted(e,t){const{value:n,modifiers:o,arg:a}=t,l={text:"object"==typeof n?n.text:"加载中...",background:"object"==typeof n?n.background:"none",spinner:"object"==typeof n?n.spinner:"default",size:"object"==typeof n?n.size:"medium",color:"object"==typeof n?n.color:"#00ffff"};o.body&&(l.background="rgba(0, 0, 0, 0.8)",e=document.body),e._loadingOptions=l,e._loadingInstance=null,(!0===n||"object"==typeof n&&n.show)&&xt(e)},updated(e,t){const{value:n,oldValue:o}=t;n!==o&&(!0===n||"object"==typeof n&&n.show?xt(e):_t(e))},unmounted(e){_t(e),function(e){const t=e.getAttribute("data-loading-key")||"default",n="".concat(e,"_").concat(t);ht.has(n)&&(ht.get(n).destroy(),ht.delete(n),e.removeAttribute("data-loading-key"))}(e)}};function xt(e){e._loadingInstance||(e._loadingInstance=yt(e,e._loadingOptions)),e._loadingInstance.show()}function _t(e){e._loadingInstance&&e._loadingInstance.hide()}const $t={show(e,t={}){const n="string"==typeof e?document.querySelector(e):e;if(!n)return null;const o=yt(n,t);return o.show(),o},hide(e){const t="string"==typeof e?document.querySelector(e):e;t&&t._loadingInstance&&t._loadingInstance.hide()},toggle(e,t,n={}){if(t)return this.show(e,n);this.hide(e)},clear(){ht.forEach(e=>{e.destroy()}),ht.clear()}},Nt={},kt=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),r=(null==l?void 0:l.nonce)||(null==l?void 0:l.getAttribute("nonce"));o=e(t.map(e=>{if(e=function(e,t){return new URL(e,t).href}(e,n),e in Nt)return;Nt[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(!!n)for(let n=a.length-1;n>=0;n--){const o=a[n];if(o.href===e&&(!t||"stylesheet"===o.rel))return}else if(document.querySelector('link[href="'.concat(e,'"]').concat(o)))return;const l=document.createElement("link");return l.rel=t?"stylesheet":"modulepreload",t||(l.as="script"),l.crossOrigin="",l.href=e,r&&l.setAttribute("nonce",r),document.head.appendChild(l),t?new Promise((t,n)=>{l.addEventListener("load",t),l.addEventListener("error",()=>n(new Error("Unable to preload CSS for ".concat(e))))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};const St=[function(e,...t){return t.reduce((e,t)=>{const n=Object.assign({},e.meta,t.meta),o=[].concat(e.alias||[],t.alias||[]);return Object.assign(e,t),e.meta=n,e.alias=o,e},e)}({path:"/:all(.*)",name:"404",component:()=>kt(()=>import("./js/_...all_-CQtKA--2.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)},{name:"404",meta:{title:"页面未找到",level:2}}),{path:"/coastline-detail",children:[{path:"",name:"/coastline-detail/",component:()=>kt(()=>import("./js/index-Cj8pFlk3.js"),__vite__mapDeps([4,5,1,2,6,7]),import.meta.url)}]},{path:"/smart-map",children:[{path:"",name:"/smart-map/",component:()=>kt(()=>import("./js/index-DkUuNTv0.js"),__vite__mapDeps([8,5,1,2,6,9]),import.meta.url)}]},{path:"/test",children:[{path:"",name:"/test/",component:()=>kt(()=>import("./js/index-DE4QIyoW.js"),__vite__mapDeps([10,1]),import.meta.url)}]}],Et=B({history:V(),routes:[{path:"/",redirect:"/smart-map"},{path:"/coastline-detail",name:"CoastlineDetail",component:()=>kt(()=>import("./js/index-Cj8pFlk3.js"),__vite__mapDeps([4,5,1,2,6,7]),import.meta.url)},...St]}),Dt=H(vt),wt=q();wt.use(oe),Dt.use(r),Dt.use(wt),Dt.use(Et),Dt.use(et),Dt.directive("loading",bt),Dt.config.globalProperties.$loading=$t,Dt.mount("#app");export{at as _,e as __vite_legacy_guard};
